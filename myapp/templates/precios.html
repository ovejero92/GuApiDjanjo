{% extends 'layouts/navbar.html' %}
{% load static %}

{% block title %}Planes y Precios - Turnos Online{% endblock %}
{% block meta_description %}Descubre nuestros planes de suscripción. Empieza gratis y elige el plan que mejor se adapte a las necesidades de tu negocio.{% endblock %}

{% block content %}

<div class="pricing-header">
    <h1>Elige el Plan Perfecto para tu Negocio</h1>
    <p>Empieza gratis y escala a medida que creces. Sin contratos, cancela cuando quieras.</p>
</div>

<div class="pricing-grid">
    <!-- Plan Gratis -->
    <div class="pricing-card">
        <h3>Gratis</h3>
        <div class="price">$ 0<span>/Mes</span></div>
        <p>Ideal para empezar y gestionar tus turnos de forma sencilla.</p>
        <a href="{% url 'crear_servicio_paso1' %}" class="btn-select">Empezar Gratis</a>
        <ul class="features-list">
            <li>✅ Gestión de Turnos</li>
            <li>✅ Calendario Interactivo</li>
            <li>✅ Catálogo de Servicios</li>
        </ul>
    </div>

    <!-- Plan Pro -->
    <div class="pricing-card featured">
        <div class="featured-badge">Más Popular</div>
        <h3>Profesional</h3>
        <div class="price">$ {{ plan_pro.precio_mensual|floatformat:"0" }}<span>/Mes</span></div>
        <p>Personaliza tu página y entiende tu negocio con métricas.</p>
        {% if user.is_authenticated %}
            <a href="{% url 'crear_suscripcion' plan_pro.slug %}" class="btn-select">Seleccionar Pro</a>
        {% else %}
            <a href="{% url 'account_login' %}?next={% url 'precios' %}" class="btn-select">Iniciar Sesión para Seleccionar</a>
        {% endif %}
        <ul class="features-list">
            <li>✅ Todo lo del plan Gratis</li>
            <li>✅ Personalización de Apariencia</li>
            <li>✅ Dashboard de Métricas</li>
        </ul>
    </div>

    <!-- Plan Prime -->
    <div class="pricing-card">
        <h3>Prime</h3>
        <div class="price">$ {{ plan_prime.precio_mensual|floatformat:"0" }}<span>/Mes</span></div>
        <p>Para negocios que buscan soporte prioritario y todas las funcionalidades.</p>
        {% if user.is_authenticated %}
            <a href="{% url 'crear_suscripcion' plan_prime.slug %}" class="btn-select">Seleccionar Prime</a>
        {% else %}
            <a href="{% url 'account_login' %}?next={% url 'precios' %}" class="btn-select">Iniciar Sesión para Seleccionar</a>
        {% endif %}
        <ul class="features-list">
            <li>✅ Todo lo del plan Profesional</li>
            <li>✅ Soporte Prioritario por WhatsApp</li>
            <li>✅ Futuras funcionalidades Prime</li>
        </ul>
    </div>
</div>

<div class="comparison-section">
    <h2 style="text-align: center; margin-bottom: 30px;">Compara las Funcionalidades</h2>
    <table class="comparison-table">
        <thead>
            <tr>
                <th>Funcionalidad</th>
                <th>Gratis</th>
                <th>Profesional</th>
                <th>Prime</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Gestión de Turnos</td><td class="check">✔</td><td class="check">✔</td><td class="check">✔</td></tr>
            <tr><td>Personalización de Apariencia</td><td class="cross">✖</td><td class="check">✔</td><td class="check">✔</td></tr>
            <tr><td>Dashboard de Métricas</td><td class="cross">✖</td><td class="check">✔</td><td class="check">✔</td></tr>
            <tr><td>Soporte Prioritario</td><td class="cross">✖</td><td class="cross">✖</td><td class="check">✔</td></tr>
        </tbody>
    </table>
</div>

{% endblock %}